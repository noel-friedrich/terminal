const AsciiArtLetters = {}
{
    let chars = "abcdefghijklmnopqrstuvwxyz"
    chars += "0123456789"
    chars += ".-,!? +"

    for (let char of chars) {
        AsciiArtLetters[char] = ""
    }
}

AsciiArtLetters["a"] += "       \n"
AsciiArtLetters["a"] += "       \n"
AsciiArtLetters["a"] += "  __ _ \n"
AsciiArtLetters["a"] += " / _` |\n"
AsciiArtLetters["a"] += "| (_| |\n"
AsciiArtLetters["a"] += " \\__,_|\n"
AsciiArtLetters["a"] += "       \n"
AsciiArtLetters["a"] += "       \n"

AsciiArtLetters["b"] += "  _     \n"
AsciiArtLetters["b"] += " | |    \n"
AsciiArtLetters["b"] += " | |__  \n"
AsciiArtLetters["b"] += " | '_ \\ \n"
AsciiArtLetters["b"] += " | |_) |\n"
AsciiArtLetters["b"] += " |_.__/ \n"
AsciiArtLetters["b"] += "        \n"
AsciiArtLetters["b"] += "        \n"

AsciiArtLetters["c"] += "      \n"
AsciiArtLetters["c"] += "      \n"
AsciiArtLetters["c"] += "  ___ \n"
AsciiArtLetters["c"] += " / __|\n"
AsciiArtLetters["c"] += "| (__ \n"
AsciiArtLetters["c"] += " \\___|\n"
AsciiArtLetters["c"] += "      \n"
AsciiArtLetters["c"] += "      \n"

AsciiArtLetters["d"] += "     _ \n"
AsciiArtLetters["d"] += "    | |\n"
AsciiArtLetters["d"] += "  __| |\n"
AsciiArtLetters["d"] += " / _` |\n"
AsciiArtLetters["d"] += "| (_| |\n"
AsciiArtLetters["d"] += " \\__,_|\n"
AsciiArtLetters["d"] += "       \n"
AsciiArtLetters["d"] += "       \n"

AsciiArtLetters["e"] += "      \n"
AsciiArtLetters["e"] += "      \n"
AsciiArtLetters["e"] += "  ___ \n"
AsciiArtLetters["e"] += " / _ \\\n"
AsciiArtLetters["e"] += "|  __/\n"
AsciiArtLetters["e"] += " \\___|\n"
AsciiArtLetters["e"] += "      \n"
AsciiArtLetters["e"] += "      \n"

AsciiArtLetters["f"] += "  __ \n"
AsciiArtLetters["f"] += " / _|\n"
AsciiArtLetters["f"] += "| |_ \n"
AsciiArtLetters["f"] += "|  _|\n"
AsciiArtLetters["f"] += "| |  \n"
AsciiArtLetters["f"] += "|_|  \n"
AsciiArtLetters["f"] += "     \n"
AsciiArtLetters["f"] += "     \n"

AsciiArtLetters["g"] += "       \n"
AsciiArtLetters["g"] += "       \n"
AsciiArtLetters["g"] += "  __ _ \n"
AsciiArtLetters["g"] += " / _` |\n"
AsciiArtLetters["g"] += "| (_| |\n"
AsciiArtLetters["g"] += " \\__, |\n"
AsciiArtLetters["g"] += "  __/ |\n"
AsciiArtLetters["g"] += " |___/ \n"

AsciiArtLetters["h"] += " _     \n"
AsciiArtLetters["h"] += "| |    \n"
AsciiArtLetters["h"] += "| |__  \n"
AsciiArtLetters["h"] += "| '_ \\ \n"
AsciiArtLetters["h"] += "| | | |\n"
AsciiArtLetters["h"] += "|_| |_|\n"
AsciiArtLetters["h"] += "       \n"
AsciiArtLetters["h"] += "       \n"

AsciiArtLetters["i"] += " _ \n"
AsciiArtLetters["i"] += "(_)\n"
AsciiArtLetters["i"] += " _ \n"
AsciiArtLetters["i"] += "| |\n"
AsciiArtLetters["i"] += "| |\n"
AsciiArtLetters["i"] += "|_|\n"
AsciiArtLetters["i"] += "   \n"
AsciiArtLetters["i"] += "   \n"

AsciiArtLetters["j"] += "     \n"
AsciiArtLetters["j"] += "     \n"
AsciiArtLetters["j"] += "   _ \n"
AsciiArtLetters["j"] += "  (_)\n"
AsciiArtLetters["j"] += "   _ \n"
AsciiArtLetters["j"] += "  | |\n"
AsciiArtLetters["j"] += "  | |\n"
AsciiArtLetters["j"] += "  | |\n"
AsciiArtLetters["j"] += " _/ |\n"
AsciiArtLetters["j"] += "|__/ \n"

AsciiArtLetters["k"] += " _    \n"
AsciiArtLetters["k"] += "| |   \n"
AsciiArtLetters["k"] += "| | __\n"
AsciiArtLetters["k"] += "| |/ /\n"
AsciiArtLetters["k"] += "|   < \n"
AsciiArtLetters["k"] += "|_|\\_\\\n"
AsciiArtLetters["k"] += "      \n"
AsciiArtLetters["k"] += "      \n"

AsciiArtLetters["l"] += " _ \n"
AsciiArtLetters["l"] += "| |\n"
AsciiArtLetters["l"] += "| |\n"
AsciiArtLetters["l"] += "| |\n"
AsciiArtLetters["l"] += "| |\n"
AsciiArtLetters["l"] += "|_|\n"
AsciiArtLetters["l"] += "   \n"
AsciiArtLetters["l"] += "   \n"

AsciiArtLetters["m"] += "           \n"
AsciiArtLetters["m"] += "           \n"
AsciiArtLetters["m"] += " _ __ ___  \n"
AsciiArtLetters["m"] += "| '_ ` _ \\ \n"
AsciiArtLetters["m"] += "| | | | | |\n"
AsciiArtLetters["m"] += "|_| |_| |_|\n"
AsciiArtLetters["m"] += "           \n"
AsciiArtLetters["m"] += "           \n"

AsciiArtLetters["n"] += "       \n"
AsciiArtLetters["n"] += "       \n"
AsciiArtLetters["n"] += " _ __  \n"
AsciiArtLetters["n"] += "| '_ \\ \n"
AsciiArtLetters["n"] += "| | | |\n"
AsciiArtLetters["n"] += "|_| |_|\n"
AsciiArtLetters["n"] += "       \n"
AsciiArtLetters["n"] += "       \n"

AsciiArtLetters["o"] += "       \n"
AsciiArtLetters["o"] += "       \n"
AsciiArtLetters["o"] += "  ___  \n"
AsciiArtLetters["o"] += " / _ \\ \n"
AsciiArtLetters["o"] += "| (_) |\n"
AsciiArtLetters["o"] += " \\___/ \n"
AsciiArtLetters["o"] += "       \n"
AsciiArtLetters["o"] += "       \n"

AsciiArtLetters["p"] += "       \n"
AsciiArtLetters["p"] += "       \n"
AsciiArtLetters["p"] += " _ __  \n"
AsciiArtLetters["p"] += "| '_ \\ \n"
AsciiArtLetters["p"] += "| |_) |\n"
AsciiArtLetters["p"] += "| .__/ \n"
AsciiArtLetters["p"] += "| |    \n"
AsciiArtLetters["p"] += "|_|    \n"

AsciiArtLetters["q"] += "       \n"
AsciiArtLetters["q"] += "       \n"
AsciiArtLetters["q"] += "  __ _ \n"
AsciiArtLetters["q"] += " / _` |\n"
AsciiArtLetters["q"] += "| (_| |\n"
AsciiArtLetters["q"] += " \\__, |\n"
AsciiArtLetters["q"] += "    | |\n"
AsciiArtLetters["q"] += "    |_|\n"

AsciiArtLetters["r"] += "      \n"
AsciiArtLetters["r"] += "      \n"
AsciiArtLetters["r"] += " _ __ \n"
AsciiArtLetters["r"] += "| '__|\n"
AsciiArtLetters["r"] += "| |   \n"
AsciiArtLetters["r"] += "|_|   \n"
AsciiArtLetters["r"] += "      \n"
AsciiArtLetters["r"] += "      \n"

AsciiArtLetters["s"] += "     \n"
AsciiArtLetters["s"] += "     \n"
AsciiArtLetters["s"] += " ___ \n"
AsciiArtLetters["s"] += "/ __|\n"
AsciiArtLetters["s"] += "\\__ \\\n"
AsciiArtLetters["s"] += "|___/\n"
AsciiArtLetters["s"] += "     \n"
AsciiArtLetters["s"] += "     \n"

AsciiArtLetters["t"] += " _   \n"
AsciiArtLetters["t"] += "| |  \n"
AsciiArtLetters["t"] += "| |_ \n"
AsciiArtLetters["t"] += "| __|\n"
AsciiArtLetters["t"] += "| |_ \n"
AsciiArtLetters["t"] += " \\__|\n"
AsciiArtLetters["t"] += "     \n"
AsciiArtLetters["t"] += "     \n"

AsciiArtLetters["u"] += "       \n"
AsciiArtLetters["u"] += "       \n"
AsciiArtLetters["u"] += " _   _ \n"
AsciiArtLetters["u"] += "| | | |\n"
AsciiArtLetters["u"] += "| |_| |\n"
AsciiArtLetters["u"] += " \\__,_|\n"
AsciiArtLetters["u"] += "       \n"
AsciiArtLetters["u"] += "       \n"

AsciiArtLetters["v"] += "       \n"
AsciiArtLetters["v"] += "       \n"
AsciiArtLetters["v"] += "__   __\n"
AsciiArtLetters["v"] += "\\ \\ / /\n"
AsciiArtLetters["v"] += " \\ V / \n"
AsciiArtLetters["v"] += "  \\_/  \n"
AsciiArtLetters["v"] += "       \n"
AsciiArtLetters["v"] += "       \n"

AsciiArtLetters["w"] += "          \n"
AsciiArtLetters["w"] += "          \n"
AsciiArtLetters["w"] += "__      __\n"
AsciiArtLetters["w"] += "\\ \\ /\\ / /\n"
AsciiArtLetters["w"] += " \\ V  V / \n"
AsciiArtLetters["w"] += "  \\_/\\_/  \n"
AsciiArtLetters["w"] += "          \n"
AsciiArtLetters["w"] += "          \n"

AsciiArtLetters["x"] += "      \n"
AsciiArtLetters["x"] += "      \n"
AsciiArtLetters["x"] += "__  __\n"
AsciiArtLetters["x"] += "\\ \\/ /\n"
AsciiArtLetters["x"] += " >  < \n"
AsciiArtLetters["x"] += "/_/\\_\\ \n"
AsciiArtLetters["x"] += "      \n"
AsciiArtLetters["x"] += "      \n"

AsciiArtLetters["y"] += "       \n"
AsciiArtLetters["y"] += "       \n"
AsciiArtLetters["y"] += " _   _ \n"
AsciiArtLetters["y"] += "| | | |\n"
AsciiArtLetters["y"] += "| |_| |\n"
AsciiArtLetters["y"] += " \\__, |\n"
AsciiArtLetters["y"] += "  __/ |\n"
AsciiArtLetters["y"] += " |___/ \n"

AsciiArtLetters["z"] += "     \n"
AsciiArtLetters["z"] += "     \n"
AsciiArtLetters["z"] += " ____\n"
AsciiArtLetters["z"] += "|_  /\n"
AsciiArtLetters["z"] += " / / \n"
AsciiArtLetters["z"] += "/___|\n"
AsciiArtLetters["z"] += "     \n"
AsciiArtLetters["z"] += "     \n"

AsciiArtLetters["0"] += "  ___  \n"
AsciiArtLetters["0"] += " / _ \\ \n"
AsciiArtLetters["0"] += "| | | |\n"
AsciiArtLetters["0"] += "| | | |\n"
AsciiArtLetters["0"] += "| |_| |\n"
AsciiArtLetters["0"] += " \\___/ \n"
AsciiArtLetters["0"] += "       \n"
AsciiArtLetters["0"] += "       \n"

AsciiArtLetters["1"] += " __ \n"
AsciiArtLetters["1"] += "/_ |\n"
AsciiArtLetters["1"] += " | |\n"
AsciiArtLetters["1"] += " | |\n"
AsciiArtLetters["1"] += " | |\n"
AsciiArtLetters["1"] += " |_|\n"
AsciiArtLetters["1"] += "    \n"
AsciiArtLetters["1"] += "    \n"

AsciiArtLetters["2"] += " ___  \n"
AsciiArtLetters["2"] += "|__ \\ \n"
AsciiArtLetters["2"] += "   ) |\n"
AsciiArtLetters["2"] += "  / / \n"
AsciiArtLetters["2"] += " / /_ \n"
AsciiArtLetters["2"] += "|____|\n"
AsciiArtLetters["2"] += "      \n"
AsciiArtLetters["2"] += "      \n"

AsciiArtLetters["3"] += " ____  \n"
AsciiArtLetters["3"] += "|___ \\ \n"
AsciiArtLetters["3"] += "  __) |\n"
AsciiArtLetters["3"] += " |__ < \n"
AsciiArtLetters["3"] += " ___) |\n"
AsciiArtLetters["3"] += "|____/ \n"
AsciiArtLetters["3"] += "       \n"
AsciiArtLetters["3"] += "       \n"

AsciiArtLetters["4"] += " _  _   \n"
AsciiArtLetters["4"] += "| || |  \n"
AsciiArtLetters["4"] += "| || |_ \n"
AsciiArtLetters["4"] += "|__   _|\n"
AsciiArtLetters["4"] += "   | |  \n"
AsciiArtLetters["4"] += "   |_|  \n"
AsciiArtLetters["4"] += "        \n"
AsciiArtLetters["4"] += "        \n"

AsciiArtLetters["5"] += " _____ \n"
AsciiArtLetters["5"] += "| ____|\n"
AsciiArtLetters["5"] += "| |__  \n"
AsciiArtLetters["5"] += "|___ \\ \n"
AsciiArtLetters["5"] += " ___) |\n"
AsciiArtLetters["5"] += "|____/ \n"
AsciiArtLetters["5"] += "       \n"
AsciiArtLetters["5"] += "       \n"

AsciiArtLetters["6"] += "   __  \n"
AsciiArtLetters["6"] += "  / /  \n"
AsciiArtLetters["6"] += " / /_  \n"
AsciiArtLetters["6"] += "| '_ \\ \n"
AsciiArtLetters["6"] += "| (_) |\n"
AsciiArtLetters["6"] += " \\___/ \n"
AsciiArtLetters["6"] += "       \n"
AsciiArtLetters["6"] += "       \n"

AsciiArtLetters["7"] += " ______ \n"
AsciiArtLetters["7"] += "|____  |\n"
AsciiArtLetters["7"] += "    / / \n"
AsciiArtLetters["7"] += "   / /  \n"
AsciiArtLetters["7"] += "  / /   \n"
AsciiArtLetters["7"] += " /_/    \n"
AsciiArtLetters["7"] += "        \n"
AsciiArtLetters["7"] += "        \n"

AsciiArtLetters["8"] += "  ___  \n"
AsciiArtLetters["8"] += " / _ \\ \n"
AsciiArtLetters["8"] += "| (_) |\n"
AsciiArtLetters["8"] += " > _ < \n"
AsciiArtLetters["8"] += "| (_) |\n"
AsciiArtLetters["8"] += " \\___/ \n"
AsciiArtLetters["8"] += "       \n"
AsciiArtLetters["8"] += "       \n"

AsciiArtLetters["9"] += "  ___  \n"
AsciiArtLetters["9"] += " / _ \\ \n"
AsciiArtLetters["9"] += "| (_) |\n"
AsciiArtLetters["9"] += " \\__, |\n"
AsciiArtLetters["9"] += "   / / \n"
AsciiArtLetters["9"] += "  /_/  \n"
AsciiArtLetters["9"] += "       \n"
AsciiArtLetters["9"] += "       \n"

AsciiArtLetters["."] += "   \n"
AsciiArtLetters["."] += "   \n"
AsciiArtLetters["."] += "   \n"
AsciiArtLetters["."] += "   \n"
AsciiArtLetters["."] += " _ \n"
AsciiArtLetters["."] += "(_)\n"
AsciiArtLetters["."] += "   \n"
AsciiArtLetters["."] += "   \n"

AsciiArtLetters[","] += "    \n"
AsciiArtLetters[","] += "    \n"
AsciiArtLetters[","] += "    \n"
AsciiArtLetters[","] += "    \n"
AsciiArtLetters[","] += "  _ \n"
AsciiArtLetters[","] += " ( )\n"
AsciiArtLetters[","] += " |/ \n"
AsciiArtLetters[","] += "    \n"

AsciiArtLetters["-"] += "       \n"
AsciiArtLetters["-"] += "       \n"
AsciiArtLetters["-"] += "       \n"
AsciiArtLetters["-"] += "  ____ \n"
AsciiArtLetters["-"] += " |____|\n"
AsciiArtLetters["-"] += "       \n"
AsciiArtLetters["-"] += "       \n"
AsciiArtLetters["-"] += "       \n"

AsciiArtLetters["+"] += "        \n"
AsciiArtLetters["+"] += "    _   \n"
AsciiArtLetters["+"] += "  _| |_ \n"
AsciiArtLetters["+"] += " |_   _|\n"
AsciiArtLetters["+"] += "   |_|  \n"
AsciiArtLetters["+"] += "        \n"
AsciiArtLetters["+"] += "        \n"
AsciiArtLetters["+"] += "        \n"

AsciiArtLetters["!"] += "  _ \n"
AsciiArtLetters["!"] += " | |\n"
AsciiArtLetters["!"] += " | |\n"
AsciiArtLetters["!"] += " | |\n"
AsciiArtLetters["!"] += " |_|\n"
AsciiArtLetters["!"] += " (_)\n"
AsciiArtLetters["!"] += "    \n"
AsciiArtLetters["!"] += "    \n"

AsciiArtLetters["?"] += "  ___  \n"
AsciiArtLetters["?"] += " |__ \\ \n"
AsciiArtLetters["?"] += "    ) |\n"
AsciiArtLetters["?"] += "   / / \n"
AsciiArtLetters["?"] += "  |_|  \n"
AsciiArtLetters["?"] += "  (_)  \n"
AsciiArtLetters["?"] += "       \n"
AsciiArtLetters["?"] += "       \n"

AsciiArtLetters[" "] += "   \n"

terminal.addCommand("letters", function(args) {
    let text = args.text.trim().toLowerCase()

    if (!text)
        throw new Error("No text given")

    for (let char of text) {
        if (!(char in AsciiArtLetters)) {
            throw new Error("Unsupported character used ('" + char + "')")
        }
    }

    function pasteHorizontal(a, b, l1, l2) {
        let lines = {a: a.split("\n").slice(0, -1), b: b.split("\n").slice(0, -1)}
        let width = {a: () => lines.a[0].length, b: () => lines.b[0].length}
        let height = {a: () => lines.a.length, b: () => lines.b.length}
        
        while (height.a() > height.b()) {
            lines.b.unshift(stringMul(" ", width.b()))
        }
        while (height.b() > height.a()) {
            lines.a.unshift(stringMul(" ", width.a()))
        }

        function eq(a, b) {
            if (a == b) return true
            if (a == " " || b == " ") return true
            if (a == "(" && b == "|") return true
            if (a == ")" && b == "|") return true
            if (b == "(" && a == "|") return true
            if (b == ")" && a == "|") return true
            return false
        }

        if (l1 != " " && l2 != " ")
        for (let i = 0; i < 2; i++) {
            let compressBoth = true
            for (let i = 0; i < height.a(); i++) {
                let [x, y] = [lines.a[i].slice(-1), lines.b[i][0]]
                if (!(eq(x, y))) {
                    compressBoth = false
                    break
                }
            }

            if (!compressBoth)
                break

            for (let i = 0; i < height.a(); i++) {
                let [x, y] = [lines.a[i].slice(-1), lines.b[i][0]]
                if (x == " ")
                    lines.a[i] = lines.a[i].slice(0, -1) + y
                lines.b[i] = lines.b[i].slice(1)
            }
        }

        let combined = ""
        for (let i = 0; i < height.a(); i++)
            combined += lines.a[i] + lines.b[i] + "\n"
        return combined
    }

    let output = AsciiArtLetters[text[0]]
    for (let i = 1; i < text.length; i++) {
        output = pasteHorizontal(output, AsciiArtLetters[text[i]], text[i - 1], text[i])
    }
    terminal.printLine(output)
}, {
    description: "prints the given text in ascii art",
    args: {
        "*text": "the text to print"
    },
    example: "letters hello world"
})

